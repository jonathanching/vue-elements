(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{13:function(t,e,s){"use strict";var o={props:{controlLabel:{type:String,default:"Controls"}},watch:{},computed:{hasControls:function(){return this.$slots.controls}},mixins:[],data:()=>({isControlOpen:!1,controlPanelOpenDelay:500}),mounted:function(){this.init()},methods:{init:function(){setTimeout(this.toggle,this.controlPanelOpenDelay)},toggle:function(t=null){let e=null==t?!this.isControlOpen:t;this.isControlOpen=e},back:function(){this.toggle(!1),this.$router.push(this.redirectTo("Home"))}}},n=s(4),i=Object(n.a)(o,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[s("div",{staticClass:"section__content"},[s("div",{staticClass:"section__header"},[s("h2",{staticClass:"section__header__title"},[s("i",{staticClass:"section__header__icon fa fa-angle-left"}),t._v("\n                    "+t._s(t.getCurrentRouteTitle())+"\n                    "),s("i",{staticClass:"section__header__icon fa fa-angle-right"})]),t._v(" "),s("h5",{staticClass:"section__header__desc"},[t._v(t._s(t.getCurrentRouteDesc()))])]),t._v(" "),t._t("content"),t._v(" "),s("span",{staticClass:"section__back",on:{click:function(e){return t.back()}}},[t._v("Back to list")])],2),t._v(" "),t.hasControls?s("div",{staticClass:"section__controls",class:{"section__controls--visible":t.isControlOpen}},[s("p",{staticClass:"section__controls__btn",on:{click:function(e){return t.toggle()}}},[s("i",{staticClass:"fa fa-plus"}),t._v("\n                "+t._s(t.controlLabel)+"\n            ")]),t._v(" "),t._t("controls")],2):t._e()])},[],!1,null,null,null);e.a=i.exports},16:function(t,e,s){"use strict";s.r(e);var o=s(13),n={props:{headers:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]}},watch:{items:function(t,e){t!=e&&this._copyItems()}},data:()=>({tableItems:[],rows:[],dragElement:null,dragItem:{id:null},mouseX:0,mouseY:0,mouseDownX:0,mouseDownY:0,mouseDrag:!1}),mounted:function(){this.init(),this._bindTrackMouse()},beforeDestroy:function(){this._removeAllEvent()},methods:{init:function(){this._copyItems()},_copyItems:function(){this.tableItems=JSON.parse(JSON.stringify(this.items))},_bindTrackMouse:function(){this._addAllEvent()},_removeMouseDownEvent:function(){this._removeMouseEvent("mousedown","touchstart",this.getMouseDownCoords)},_addMouseDownEvent:function(){this._addMouseEvent("mousedown","touchstart",this.getMouseDownCoords)},_removeMouseUpEvent:function(){this._removeMouseEvent("mouseup","touchend",this.getMouseUpCoords)},_addMouseUpEvent:function(){this._addMouseEvent("mouseup","touchend",this.getMouseUpCoords)},_removeMouseMoveEvent:function(){this._removeMouseEvent("mousemove","touchmove",this.getMouseMoveCoords)},_addMouseMoveEvent:function(){this._addMouseEvent("mousemove","touchmove",this.getMouseMoveCoords)},_addAllEvent:function(){this._addMouseUpEvent(),this._addMouseMoveEvent(),this._addMouseDownEvent()},_removeAllEvent:function(){this._removeMouseUpEvent(),this._removeMouseMoveEvent(),this._removeMouseDownEvent()},_addMouseEvent:function(t,e,s){document.addEventListener(t,s),document.addEventListener(e,s)},_removeMouseEvent:function(t,e,s){document.removeEventListener(t,s),document.removeEventListener(e,s)},handleSorted:function(){this.$emit("sorted",this.tableItems)},swapRow:function(t){let e=this.getRowById(this.dragItem.id,!1),s=this.getRowById(t.dataset.sort,!1),o=Math.min(e,s),n=Math.max(e,s),i=[this.tableItems[o],this.tableItems[n]];this.tableItems.splice(o,2,i[1],i[0]),this.handleSorted()},moveRow:function(t,e){this.dragElement.style.transform="translate3d("+t+"px, "+e+"px, 0)";let s=this.dragElement.getBoundingClientRect(),o=s.y,n=o+s.height,i=this.getRows();for(var a=0;a<i.length;a++){let t=i[a],e=t.getBoundingClientRect(),s=e.y,r=s+e.height;this.dragItem.id!=t.dataset.sort&&this.isIntersecting(o,n,s,r)&&Math.abs(o-s)<e.height/2&&this.swapRow(t)}},returnRow:function(){this.removeDragElement(),this.dragElement=null,this.mouseDrag=!1},addDragElement:function(t){this.dragElement=t.cloneNode(!0),this.dragElement.classList.add("sortable-table__drag"),this.dragElement.style.background=this.getStyle(t,"backgroundColor"),this.dragElement.style.height=this.getStyle(t,"height");for(var e=0;e<t.children.length;e++){let s=t.children[e],o=this.dragElement.children[e];o.style.width=this.getStyle(s,"width"),o.style.height=this.getStyle(s,"height"),o.style.padding=this.getStyle(s,"padding"),o.style.margin=this.getStyle(s,"margin")}this.$refs.table.appendChild(this.dragElement);let s=t.getBoundingClientRect(),o=this.dragElement.getBoundingClientRect();this.dragElement.style.bottom=o.y-s.y-s.height+"px",this.dragElement.style.left="-1px",document.dispatchEvent(new MouseEvent("mousemove",{view:window,cancelable:!0,bubbles:!0}))},removeDragElement:function(){this.$refs.table.removeChild(this.dragElement),this.dragElement=null,this.dragItem={id:null}},setDragTarget:function(t){this.dragItem=this.getRowById(t.dataset.sort),this.addDragElement(t),this.mouseDrag=!0},getTargetRow:function(t){let e=t.tagName.toLowerCase();return"tr"==e?t:"td"==e?t.closest("tr"):void 0},getRowById:function(t,e=!0){for(var s=0;s<this.tableItems.length;s++){let o=this.tableItems[s];if(o.id==t)return e?o:s}return null},getRowElemById:function(t){let e=this.getRows();for(var s=0;s<e.length;s++){let o=e[s];if(o.dataset.sort==t)return o}return null},getRows:function(){return document.querySelectorAll(".sortable-table tbody tr")},getStyle:function(t,e){let s=getComputedStyle(t)[e];return s||null},getMouseDownCoords:function(t){let e=this.getTargetRow(t.target);if(!this._isTableRow(e))return;this.setDragTarget(e);let s=this.getMouseCoords(t);this.mouseDownX=s.x,this.mouseDownY=s.y},getMouseMoveCoords:function(t){if(!this.mouseDrag)return;let e=this.getMouseCoords(t);this.mouseX=e.x-this.mouseDownX,this.mouseY=e.y-this.mouseDownY,this.moveRow(this.mouseX,this.mouseY)},getMouseUpCoords:function(t){this.mouseDrag&&this.returnRow()},getMouseCoords:function(t){return{x:this._isTouchEvent(t)?t.touches[0].clientX:t.clientX,y:this._isTouchEvent(t)?t.touches[0].clientY:t.clientY}},isIntersecting:function(t,e,s,o){return Math.max(t,e)>=Math.min(s,o)&&Math.min(t,e)<=Math.max(s,o)},_isTableRow(t){if(t){let s=this.getRows();for(var e=0;e<s.length;e++)if(s[e]===t&&s[e].closest("table")==this.$refs.table)return!0}return!1},_isTouchEvent:t=>"touchmove"===t.type||"touchstart"===t.type}},i=s(4),a=Object(i.a)(n,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{ref:"table",staticClass:"sortable-table",class:{"sortable-table--dragging":t.mouseDrag},attrs:{cellspacing:"0"}},[s("thead",[t._l(t.headers,function(e){return[s("th",[t._v(t._s(e))])]})],2),t._v(" "),s("tbody",[t._l(t.tableItems,function(e){return[s("tr",{class:{"is-dragging":e.id==t.dragItem.id},attrs:{"data-sort":e.id}},[t._l(t.headers,function(o){return[s("td",[t._v(t._s(e[o]))])]})],2)]})],2)])},[],!1,null,null,null).exports,r={props:{},watch:{},computed:{},components:{"page-section":o.a,"sortable-table":a},mixins:[],data:()=>({headers:["name","occupation"],items:[{id:1,name:"April Douglas",occupation:"Health Educators"},{id:2,name:"Ronald Mcbride",occupation:"Mental Health Counselors"},{id:3,name:"Kassandra Donovan",occupation:"Makeup Artists"},{id:4,name:"Yosef Hartman",occupation:"Theatrical and Performance"}]}),mounted:function(){this.init()},methods:{init:function(){},setItem:function(t){this.items=t}}},l=Object(i.a)(r,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("page-section",{attrs:{id:"sort-table-page","control-label":"console"}},[s("div",{staticClass:"page__content",attrs:{slot:"content"},slot:"content"},[s("sortable-table",{attrs:{headers:t.headers,items:t.items},on:{sorted:t.setItem}})],1),t._v(" "),s("div",{staticClass:"page__controls",attrs:{slot:"controls"},slot:"controls"},[s("div",{staticClass:"controls__item"},[s("p",{staticClass:"controls__item__label"},[t._v("Items")])]),t._v(" "),s("pre",[t._v(t._s(t.items))])])])},[],!1,null,null,null);e.default=l.exports}}]);